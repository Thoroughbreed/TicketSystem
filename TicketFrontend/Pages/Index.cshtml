@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <table class="table table-striped">
        <thead>
        <th>Titel</th>
        <th>Beskrivelse</th>
        <th>Oprettet af</th>
        <th>Oprettet den</th>
        <th>Anmoder</th>
        <th>Anmoder mail</th>
        <th>Prioritet</th>
        <th>Kategori</th>
        <th>Status</th>
        </thead>
        @foreach (var item in @Model.Tickets)
        {
            <tr>
                <td>@item.TCaption</td>
                <td>@item.TDesc</td>
                <td>@item.Creator.display_name</td>
                <td>@item.TCreatedAt</td>
                <td>@item.Requester.full_name</td>
                <td>@item.Requester.email</td>
                <td>@item.Priority.priority</td>
                <td>@item.Category.category</td>
                <td>@item.Status.status @item.TStatusID</td>
                <td><a asp-page="Index" asp-page-handler="CloseTaskDebug" asp-route-ticketId="@item.ID" asp-route-userId="@item.Creator.ID">Luk sag</a></td>
            </tr>
        }
    </table>
    <form method="post" asp-page-handler="Comment">
        <div class="form-group">
            <label asp-for="Comment.Comment"></label>
            <input asp-for="Comment.Comment" class="form-control" />
            <span asp-validation-for="Comment.Comment" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Comment.TicketID"></label>
            <input asp-for="Comment.TicketID" class="form-control" />
            <span asp-validation-for="Comment.TicketID" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Comment.UserID"></label>
            <input asp-for="Comment.UserID" class="form-control" />
            <span asp-validation-for="Comment.UserID" class="text-danger"></span>
        </div>
        <button class="btn btn-success">Opret kommentar, hva'be'ha?!</button>
    </form>
</div>